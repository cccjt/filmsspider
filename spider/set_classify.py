from utils.MongoUtil import MongoUtil

Mg = MongoUtil()
col = Mg.getCol("site")

# site_config = {}
# for x in col.find():
#     site_config[x['id']] = x['configs']
#
# print(site_config)

classify = {
    '1': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11],
        '2': [2, 12, 13, 14, 15, 16, 17, 18, 54],
        '3': [4, 41, 39, 40, 47],
        '49': [19, 49, 51, 52, 53, 55]
    },
    '2': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11, 24],
        '2': [2, 12, 13, 14, 15, 17, 18, 20],
        '3': [4, 41, 39, 40, 47],
        '49': [16, 19.21, 22]
    },
    '3': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11],
        '2': [2, 12, 13, 14, 15, 17, 18, 19, 21],
        '3': [4],
        '49': [16]
    },
    '4': {
        '1': [1, 6, 7, 8, 9, 10, 11, 12],
        '2': [2, 13, 14, 15, 16],
        '3': [4],
        '49': [45]
    },
    '5': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11, 16, 17, 18, 19, 20, 22],
        '2': [2, 12, 13, 14, 15],
        '3': [4, 38, 35, 21, 32, 33, 34],
        '49': [25]
    },
    '6': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11],
        '2': [2, 12, 13, 14, 15, 17, 18, 19],
        '3': [3],
        '49': [16]
    },
    '7': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11, 25],
        '2': [2, 12, 13, 14, 15, 16],
        '3': [4, 21, 22, 23],
        '49': [17, 18, 24]
    },
    '8': {
        '1': [1, 10, 11, 5, 6, 7, 8, 9],
        '2': [12, 13, 14, 15, 19, 2, 20, 21],
        '3': [4],
        '49': [16, 17]
    },
    '18': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11],
        '2': [2, 12, 13, 14, 15, 16, 17, 18, 19],
        '3': [4],
        '49': [20]
    },
    '19': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11, ],
        '2': [2, 12, 13, 14, 15, 16, 17, 18, 19],
        '3': [4],
        '49': [20]
    },
    '20': {
        '1': [1, 10, 11, 5, 6, 7, 8, 9],
        '2': [12, 13, 14, 15, 19, 2, 20, 21],
        '3': [4],
        '49': [16, 17]
    },
    '21': {
        '1': [1, 10, 11, 5, 6, 7, 8, 9],
        '2': [12, 13, 14, 15, 19, 2, 20, 21],
        '3': [4],
        '49': [16, 17]
    },
    '22': {
        '1': [1, 10, 11, 5, 6, 7, 8, 9],
        '2': [12, 13, 14, 15, 19, 2, 20, 21],
        '3': [4],
        '49': [16, 17]
    },
    '23': {
        '1': [1, 10, 11, 5, 6, 7, 8, 9],
        '2': [12, 13, 14, 15, 19, 2, 20, 21],
        '3': [4],
        '49': [16, 17]
    },
    '24': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11],
        '2': [2, 12, 13, 14, 15, 16, 17, 21],
        '3': [4],
        '49': [19]
    },
    '28': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11, 26],
        '2': [2, 12, 13, 14, 15, 20, 21, 22, 23],
        '3': [4],
        '49': [16]
    },
    '29': {
        '1': [1, 5, 6, 7, 8, 9, 10, 11, 26],
        '2': [2, 12, 13, 14, 15, 20, 21, 22, 23],
        '3': [4],
        '49': [16]
    },
    '31': {
        '1': [1, 6, 7, 8, 9, 10, 11, 12],
        '2': [2, 13, 14, 15, 16, 20],
        '3': [4],
        '49': []
    },
    '32': {
        '1': [1, 6, 7, 8, 9, 10, 11, 12],
        '2': [2, 13, 14, 15, 16, 20],
        '3': [4],
        '49': []
    },
    '33': {
        '1': [1, 6, 7, 8, 9, 10, 11, 12, 21],
        '2': [2, 13, 14, 15, 16, 24, 25, 26],
        '3': [4, 20, 28, 29, 30, 31],
        '49': []
    },
    '34': {
        '1': [1, 6, 7, 8, 9, 10, 11, 12],
        '2': [2, 13, 14, 15, 16, 22, 23, 24],
        '3': [4, 29, 30, 31, 32, 33],
        '49': [34, 37]
    }
}

# andArr = []
res = col.find_one({'id': 1})

def set_classify(tid):
    for x, y in res['classify'].items():
        if int(tid) in y:
            return int(x)


print(set_classify(1))

Mg.close()
